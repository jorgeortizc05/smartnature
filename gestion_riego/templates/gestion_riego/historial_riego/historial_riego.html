{% extends 'gestion_riego/layout.html' %}
{% block titulo %}{{title}}{% endblock titulo %}

{% block card_title %} {{title}}{% endblock card_title %}

{% block body %}

<table class="table table-hover" id="data">
    <thead>
    <tr>
        <th>ID</th>
        <th>Tiempo</th>
        <th>Fecha Riego</th>
        <th>Codigo Sensor</th>
        <th>Dispositivo</th>
        <th>Encargado</th>
        <th>Rol</th>
        <th>Tipo Sensor</th>
    </tr>
    </thead>
    <tbody>
    {% for historial_riego in object_list %}
    <tr>
        <td>{{historial_riego.id}}</td>
        <td>{{historial_riego.tiempo_riego}}</td>
        <td>{{historial_riego.fecha_riego}}</td>
        <td>{{historial_riego.codigo_sensor}}</td>
        <td>{{historial_riego.siembra.plataforma.device.nombre}}</td>
        <td>{{historial_riego.siembra.plataforma.persona.nombre}}
            {{historial_riego.siembra.plataforma.persona.apellido}}
        </td>
        <td>{{historial_riego.tipo_rol.nombre}}</td>
        <td>{{historial_riego.tipo_sensor}}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<div class="card-footer">
    <a href="{{ list_url }}" class="btn btn-success btn-flat" type="button">
        <i class="fas fa-sync"></i> Actualizar
    </a>
</div>
<script>
    $(document).ready(function () {
    $('#data').DataTable( {
    dom: 'Bfrtip',
    ordering: true,
    language: {
        search: "Buscar",
        paginate: {
            first:      "Primero",
            previous:   "Anterior",
            next:       "Siguiente",
            last:       "Ãšltimo"
        },
    },
    buttons: [
        'copyHtml5',
        'excelHtml5',
        'csvHtml5',
        'pdfHtml5',
        'print'
    ]
    } );
    });


</script>
{% endblock body %}